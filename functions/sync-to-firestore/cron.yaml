# Supabase Edge Function Cron Job é…ç½®
# å®šæœŸåŸ·è¡Œ sync-to-firestore å‡½æ•¸ï¼Œæ¶ˆè²» outbox äº‹ä»¶ä½‡åˆ—

# âš ï¸ æ¸¬è©¦ç’°å¢ƒé…ç½®ï¼šæ¯ 5 ç§’åŸ·è¡Œä¸€æ¬¡ï¼ˆå¿«é€Ÿé©—è­‰åŒæ­¥çµæœï¼‰
# ğŸš¨ æ­£å¼ç’°å¢ƒè«‹æ”¹å›ï¼š*/30 * * * * *ï¼ˆæ¯ 30 ç§’ï¼‰
- name: sync-orders-to-firestore
  schedule: "*/5 * * * * *"  # æ¯ 5 ç§’ï¼ˆæ¸¬è©¦ç”¨ï¼‰
  function: sync-to-firestore
  description: "åŒæ­¥è¨‚å–®è®Šæ›´åˆ° Firestoreï¼ˆOutbox Patternï¼‰- æ¸¬è©¦ç’°å¢ƒé«˜é »ç‡"

# æ¯å¤©å‡Œæ™¨ 2 é»æ¸…ç†èˆŠäº‹ä»¶ï¼ˆä¿ç•™æœ€è¿‘ 7 å¤©ï¼‰
- name: cleanup-old-outbox-events
  schedule: "0 2 * * *"  # æ¯å¤© 02:00
  function: cleanup-outbox
  description: "æ¸…ç† 7 å¤©å‰çš„å·²è™•ç† outbox äº‹ä»¶"

